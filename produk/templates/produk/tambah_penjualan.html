{% extends "layouts.html" %}
{% block title %}Tambah Penjualan{% endblock %}
{% load humanize %}

{% block content %}
<h2 class="text-2xl font-bold mb-6 text-[#F297A0]">Tambah Penjualan Baru</h2>

<form action="{% url 'tambah_penjualan' %}" method="post" class="bg-white p-6 rounded-2xl shadow-lg max-w-xl">
  {% csrf_token %}

  <div class="mb-4">
    <label class="block text-sm font-medium text-[#7A8450] mb-1">Nama Pelanggan</label>
    <input type="text" name="pelanggan" required class="w-full border border-[#F297A0] rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F297A0]">
  </div>

  <div class="mb-4">
    <label class="block text-sm font-medium text-[#7A8450] mb-1">Kasir</label>
    <select name="kasir" class="w-full border border-[#F297A0] rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F297A0]" required>
      <option value="">-- Pilih Kasir --</option>
      {% for user in kasir_list %}
        <option value="{{ user.id }}">{{ user.username }}</option>
      {% endfor %}
    </select>
  </div>

  <!-- Form Produk -->
  <div class="mb-4">
    <label class="block text-sm font-medium text-[#7A8450] mb-1">Produk</label>
    <select name="produk_id[]" class="w-full border border-[#F297A0] rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F297A0]" required>
      <option value="">-- Pilih Produk --</option>
      {% for p in produk_list %}
        <option value="{{ p.id }}">{{ p.nama }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-4">
    <label class="block text-sm font-medium text-[#7A8450] mb-1">Jumlah</label>
    <input type="number" name="jumlah[]" min="1" required class="w-full border border-[#F297A0] rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F297A0]">
  </div>

  <div class="mb-6">
    <label class="block text-sm font-medium text-[#7A8450] mb-1">Harga Jual</label>
    <input type="number" name="harga_satuan[]" min="0" required class="w-full border border-[#F297A0] rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#F297A0]">
  </div>

  <!-- Tombol Aksi -->
  <div class="flex justify-end gap-2">
    <a href="{% url 'penjualan' %}" class="px-4 py-2 bg-[#F3EBDB] text-[#7A8450] rounded-lg hover:bg-[#e4dccb] transition-all">Batal</a>
    <button type="submit" class="px-4 py-2 bg-[#F297A0] text-white rounded-lg hover:bg-[#e1858b] transition-all">Simpan</button>
  </div>
</form>
{% endblock %}
